{
      "kind": "ReplicationController",
      "apiVersion": "v1beta2",
      "id": "mongo",
      "metadata": {
        "name": "mongo",
        "labels": {
          "name":"mongo"
        }
      },
      "desiredState": {
        "replicas": 3,
        "replicaSelector": {
          "name": "mongo-replica"
        },
        "podTemplate": {
          "labels": {
            "name": "mongo-replica"
          },
          "desiredState": {
            "manifest": {
              "volumes": [
                {
                  "name": "keyfile",
                  "source": {
                    "secret": {
                      "target": { "name": "mongo-keyfile" }
                    }
                  }
                }
              ],
              "containers":[
                {
                  "name":  "member",
                  "image": "openshift/mongodb-24-centos7",
                  "volumeMounts": [
                    {
                      "name": "keyfile",
                      "readOnly": true,
                      "mountPath": "/var/run/secrets/mongo"
                    }
                  ],
                  "env": [
                    { "name": "MONGODB_REPLICA_NAME",   "value": "rs0" },
                    { "name": "MONGODB_SERVICE_NAME",   "value": "mongodb" },
                    { "name": "MONGODB_ADMIN_PASSWORD", "value": "admin" }
                  ],
                  "ports":[
                    {
                      "containerPort": 27017
                    }
                  ]
                }
              ]
            }
          }
        }
      }
    }
